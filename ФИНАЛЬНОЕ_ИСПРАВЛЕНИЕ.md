# –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï - userId –≤ localStorage

## –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ù–û–í–´–ô –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```
web_3f0003164f0b2_jp1o4m0x
web_3f0003154f0b2_jp1o4m0x  
web_3f0003164f0b2_f2osrww18
```

### –ü—Ä–∏—á–∏–Ω–∞

–í `templates/simple.html` userId –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è –ö–ê–ñ–î–´–ô –†–ê–ó –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```javascript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
userId = 'web_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
// ‚ùå Date.now() –º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—É!
// ‚ùå Math.random() –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–π!
```

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
1. `Date.now()` = –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è
2. `Math.random()` = –Ω–æ–≤–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ
3. userId = –ù–û–í–´–ô ID
4. –°–æ–∑–¥–∞–µ—Ç—Å—è –ù–û–í–´–ô –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
5. –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è! üò≠

## –†–µ—à–µ–Ω–∏–µ

### –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```javascript
let userId = 'demo_user';

// –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:
userId = 'web_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
// ‚ùå –í—Å–µ–≥–¥–∞ –Ω–æ–≤—ã–π ID!
```

### –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º localStorage –°–ù–ê–ß–ê–õ–ê
let userId = localStorage.getItem('userId');

// –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ userId –ù–ï–¢ - —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π
if (!userId) {
    // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ Telegram
    if (telegram_user) {
        userId = 'tg_' + telegram_user.id;
    } else {
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –û–î–ò–ù –†–ê–ó
        userId = 'web_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    }
    
    // –°–û–•–†–ê–ù–Ø–ï–ú –≤ localStorage!
    localStorage.setItem('userId', userId);
    console.log('üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–æ–≤—ã–π userId:', userId);
} else {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
    console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω userId –∏–∑ localStorage:', userId);
}
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:
1. `localStorage.getItem('userId')` ‚Üí `null`
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `userId = 'web_1234567890_abc123'`
3. `localStorage.setItem('userId', 'web_1234567890_abc123')`
4. –ö–æ–Ω—Å–æ–ª—å: `üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–æ–≤—ã–π userId: web_1234567890_abc123`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
1. `localStorage.getItem('userId')` ‚Üí `'web_1234567890_abc123'`
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ID
3. –ö–æ–Ω—Å–æ–ª—å: `‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω userId –∏–∑ localStorage: web_1234567890_abc123`
4. –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è! ‚úÖ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –û—á–∏—Å—Ç–∏ localStorage (–í–ê–ñ–ù–û!)
–û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏:
```javascript
localStorage.clear()
location.reload()
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—ã–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ userId.

### 2. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–æ–≤—ã–π userId: web_1234567890_abc123
üéÆ –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: web_1234567890_abc123
```

### 3. –í—ã–±–µ—Ä–∏ —á–µ—Ä—Ç—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞
–ù–∞–ø—Ä–∏–º–µ—Ä, "–¢–µ—Ä–ø–∏–ª–∞"

### 4. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É F5
–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω userId –∏–∑ localStorage: web_1234567890_abc123
üéÆ –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: web_1234567890_abc123
```

**–¢–û–¢ –ñ–ï userId!** ‚úÖ

### 5. –ü—Ä–æ–≤–µ—Ä—å —á–µ—Ä—Ç—É
–ß–µ—Ä—Ç–∞ "–¢–µ—Ä–ø–∏–ª–∞" –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π! ‚úÖ

## –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å localStorage
–í –∫–æ–Ω—Å–æ–ª–∏:
```javascript
localStorage.getItem('userId')
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ: `"web_1234567890_abc123"`

### –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ userId –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
1. –ó–∞–ø–∏—à–∏ userId –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
2. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É F5
3. –ü—Ä–æ–≤–µ—Ä—å userId —Å–Ω–æ–≤–∞
4. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¢–û–¢ –ñ–ï! ‚úÖ

### –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Render
–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Loading user data for: web_1234567890_abc123
User web_1234567890_abc123 found in DB - money: 500, trait: —Ç–µ—Ä–ø–∏–ª–∞
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:** `Creating new user` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!

## –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è
Render –¥–µ–ø–ª–æ–∏—Ç 2-3 –º–∏–Ω—É—Ç—ã.

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
1. –û—á–∏—Å—Ç–∏ localStorage: `localStorage.clear()`
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –í—ã–±–µ—Ä–∏ —á–µ—Ä—Ç—É
4. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É F5
5. –ß–µ—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è! üéâ

---

**–î–∞—Ç–∞:** 28 —è–Ω–≤–∞—Ä—è 2026  
**–î–µ–ø–ª–æ–π:** #4 (–§–ò–ù–ê–õ–¨–ù–´–ô - localStorage –≤ simple.html)  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

- ‚úÖ `static/game.js` - –¥–æ–±–∞–≤–ª–µ–Ω localStorage (–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ `templates/simple.html` - **–ò–°–ü–†–ê–í–õ–ï–ù–û** - userId —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
- ‚úÖ `app.py` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª:** `templates/simple.html` - –∏–º–µ–Ω–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∏–≥—Ä–µ!
